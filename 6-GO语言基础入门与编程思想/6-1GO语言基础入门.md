# 配置国内镜像

Goproxy China

[Go 1.13 及以上（推荐）](https://goproxy.cn/#usage-go-113-and-above-recommended)

打开你的终端并执行

```shell
$ go env -w GO111MODULE=on
$ go env -w GOPROXY=https://goproxy.cn,direct
```

完成。

[macOS 或 Linux](https://goproxy.cn/#usage-macos-or-linux)

打开你的终端并执行

```shell
$ export GO111MODULE=on
$ export GOPROXY=https://goproxy.cn
```

或者

```shell
$ echo "export GO111MODULE=on" >> ~/.profile
$ echo "export GOPROXY=https://goproxy.cn" >> ~/.profile
$ source ~/.profile
```

完成。

[Windows](https://goproxy.cn/#usage-windows)

打开你的 PowerShell 并执行

```shell
C:\> $env:GO111MODULE = "on"
C:\> $env:GOPROXY = "https://goproxy.cn"
```

或者

```shell
1. 打开“开始”并搜索“env”
2. 选择“编辑系统环境变量”
3. 点击“环境变量…”按钮
4. 在“<你的用户名> 的用户变量”章节下（上半部分）
5. 点击“新建…”按钮
6. 选择“变量名”输入框并输入“GO111MODULE”
7. 选择“变量值”输入框并输入“on”
8. 点击“确定”按钮
9. 点击“新建…”按钮
10. 选择“变量名”输入框并输入“GOPROXY”
11. 选择“变量值”输入框并输入“https://goproxy.cn”
12. 点击“确定”按钮
```

完成。

# IDE

- Goland / Intellij Idea+GO插件
- vscode

## 枚举类型

```go
func enums() {
	//普通枚举类型
	const (
		red   = 0
		green = 1
		blue  = 2
	)

	//自增型枚举值
	fmt.Println(red, green, blue)

	const (
		cpp = iota
		_
		python
		golang
		javascript
	)

	fmt.Println(cpp, python, golang, javascript)

	//b, kb, mb, gb, tb, pb
	const (
		b = 1 << (10 * iota)
		kb
		mb
		gb
		tb
		pb
	)
	fmt.Println(b, kb, mb, gb, tb, pb)
}
```

运行结果

```go
0 1 2                                                   
0 2 3 4                                                 
1 1024 1048576 1073741824 1099511627776 1125899906842624
```

## 文件读取与判空

```go
package main

import (
	"fmt"
	"io/ioutil"
)

func main() {
	const filename = "abc.txt"
	constens, err := ioutil.ReadFile(filename)
	if err != nil {
		fmt.Println(err)
	} else {
		fmt.Printf("%s\n", constens)
	}
}
```

或者（if的条件语句里可以赋值，if的条件里的赋值的变量作用域就在这个if语句里）

```go
package main

import (
	"fmt"
	"io/ioutil"
)

func main() {
	const filename = "abc.txt"
	if constens, err := ioutil.ReadFile(filename); err != nil {
		fmt.Println(err)
	} else {
		fmt.Printf("%s\n", constens)
	}
}

```

## switch

Switch会自动break，除非使用fallthrough.

switch后面可以没有表达式，只需在case里面加就可以

```go
package main

import (
	"fmt"
	"io/ioutil"
)

func grade(source int) string {
	g := ""
	switch {
	case source < 0 || source > 100:
		panic(fmt.Sprintf("Wrong source: %d", source))
	case source < 60:
		g = "F"
	case source <= 80:
		g = "B"
	case source <= 90:
		g = "A"
	case source <= 100:
		g = "A"
	}

	return g
}

func main() {

	fmt.Println(grade(0))
	fmt.Println(grade(60))
	fmt.Println(grade(70))
	fmt.Println(grade(80))
	fmt.Println(grade(90))
	fmt.Println(grade(100))
	fmt.Println(grade(120))

}
```

运行结果

```go
F                                                    
B                                                    
B                                                    
B                                                    
A                                                    
A                                                    
panic: Wrong source: 120                             
                                                     
goroutine 1 [running]:                               
main.grade(0xa9b0d8?)                                
        D:/GolandProjects/learnGo/branch.go:12 +0xa5 
main.main()                                          
        D:/GolandProjects/learnGo/branch.go:40 +0x2af

Process finished with the exit code 2
```

　**panic（运行时恐慌）是一种只会在程序运行时才回抛出来的异常。在panic被抛出之后，如果没有在程序里添加任何保护措施的话，程序就会在打印出panic的详情，终止运行。**

